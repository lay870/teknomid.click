<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Cara Mengelola File Log dengan Logrotate di Ubuntu 20.04 - Teknomid Click</title><meta name="description" content="Logrotate adalah utilitas sistem yang mengelola rotasi otomatis dan kompresi file log. Jika file log tidak rotate, dikompresi, dan dipangkas secara"><meta name="generator" content="Publii Open-Source CMS for Static Site"><script type="gdpr-blocker/" async src="https://www.googletagmanager.com/gtag/js?id=UA-210304387-1"></script><script type="gdpr-blocker/">window.dataLayer = window.dataLayer || [];
				  function gtag(){dataLayer.push(arguments);}
				  gtag('js', new Date());
				  gtag('config', 'UA-210304387-1' , { 'anonymize_ip': true });
				  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-210304387-1"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-210304387-1');</script><meta name="theme-color" content="#17181E" media="(prefers-color-scheme: dark)"><meta name="theme-color" content="#D73A42" media="(prefers-color-scheme: light)"><meta name="msapplication-navbutton-color" content="#D73A42"><meta name="apple-mobile-web-app-status-bar-style" content="#D73A42"><link rel="canonical" href="https://teknomid.click/cara-mengelola-file-log-dengan-logrotate-di-ubuntu-2004/"><link rel="amphtml" href="https://teknomid.click/amp/cara-mengelola-file-log-dengan-logrotate-di-ubuntu-2004/"><link rel="alternate" type="application/atom+xml" href="https://teknomid.click/feed.xml"><link rel="alternate" type="application/json" href="https://teknomid.click/feed.json"><meta property="og:title" content="Cara Mengelola File Log dengan Logrotate di Ubuntu 20.04 - Teknomid Click "><meta property="og:image" content="https://teknomid.click/media/posts/196/Figure-6_large.webp"><meta property="og:site_name" content="Teknomid Click"><meta property="og:description" content="Logrotate adalah utilitas sistem yang mengelola rotasi otomatis dan kompresi file log. Jika file log tidak rotate, dikompresi, dan dipangkas secara"><meta property="og:url" content="https://teknomid.click/cara-mengelola-file-log-dengan-logrotate-di-ubuntu-2004/"><meta property="og:type" content="article"><meta property="fb:app_id" content="800151050785537"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@Teknomid_com"><meta name="twitter:title" content="Cara Mengelola File Log dengan Logrotate di Ubuntu 20.04 - Teknomid Click "><meta name="twitter:description" content="Logrotate adalah utilitas sistem yang mengelola rotasi otomatis dan kompresi file log. Jika file log tidak rotate, dikompresi, dan dipangkas secara"><meta name="twitter:image" content="https://teknomid.click/media/posts/196/Figure-6_large.webp"><link rel="shortcut icon" href="https://teknomid.click/media/website/icon.png" type="image/x-icon"><link rel="preload" href="https://teknomid.click/assets/dynamic/fonts/sourcecodepro/sourcecodepro.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://teknomid.click/assets/css/fontawesome-all.min.css?v=bbcde81f26378440dac4c3d195714389"><link rel="stylesheet" href="https://teknomid.click/assets/css/style.css?v=017c7bbfb8191bf88bd0796ba82ce479"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://teknomid.click/cara-mengelola-file-log-dengan-logrotate-di-ubuntu-2004/"},"headline":"Cara Mengelola File Log dengan Logrotate di Ubuntu 20.04","datePublished":"2022-01-07T20:50","dateModified":"2022-01-21T23:10","image":{"@type":"ImageObject","url":"https://teknomid.click/media/posts/196/Figure-6_large.webp","height":182,"width":346},"description":"Logrotate adalah utilitas sistem yang mengelola rotasi otomatis dan kompresi file log. Jika file log tidak rotate, dikompresi, dan dipangkas secara","author":{"@type":"Person","name":"Teknomid","url":"https://teknomid.click/authors/teknomid/"},"publisher":{"@type":"Organization","name":"Teknomid","logo":{"@type":"ImageObject","url":"https://teknomid.click/media/website/Teknomid-2.png","height":570,"width":1961}}}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7286829343387415" crossorigin="anonymous"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"><script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script></head><body class="is-preload"><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script><amp-analytics config="https://www.googletagmanager.com/amp.json?id=GTM-WR3Q5HW&gtm.url=SOURCE_URL" data-credentials="include"></amp-analytics><script>window.__lc = window.__lc || {};
    window.__lc.license = 14355531;
    ;(function(n,t,c){function i(n){return e._h?e._h.apply(null,n):e._q.push(n)}var e={_q:[],_h:null,_v:"2.0",on:function(){i(["on",c.call(arguments)])},once:function(){i(["once",c.call(arguments)])},off:function(){i(["off",c.call(arguments)])},get:function(){if(!e._h)throw new Error("[LiveChatWidget] You can't use getters before load.");return i(["get",c.call(arguments)])},call:function(){i(["call",c.call(arguments)])},init:function(){var n=t.createElement("script");n.async=!0,n.type="text/javascript",n.src="https://cdn.livechatinc.com/tracking.js",t.head.appendChild(n)}};!n.__lc.asyncInit&&e.init(),n.LiveChatWidget=n.LiveChatWidget||e}(window,document,[].slice))</script><noscript><a href="https://www.livechat.com/chat-with/14355531/" rel="nofollow">Chat with us</a>, powered by <a href="https://www.livechat.com/?welcome" rel="noopener nofollow" target="_blank">LiveChat</a></noscript><div id="wrapper"><div id="main"><div class="inner"><header id="header"><a class="logo logo-image" href="https://teknomid.click/"><img src="https://teknomid.click/media/website/Teknomid-2.png" alt="Teknomid Click" width="1961" height="570"></a><ul class="icons"></ul></header><article class="post"><header class="main post__header"><time datetime="2022-01-07T20:50" class="post__date">January 7, 2022</time><h1>Cara Mengelola File Log dengan Logrotate di Ubuntu 20.04</h1></header><figure class="image main normal"><img src="https://teknomid.click/media/posts/196/Figure-6_large.webp" srcset="https://teknomid.click/media/posts/196/responsive/Figure-6_large-xs.webp 300w, https://teknomid.click/media/posts/196/responsive/Figure-6_large-sm.webp 480w, https://teknomid.click/media/posts/196/responsive/Figure-6_large-md.webp 768w, https://teknomid.click/media/posts/196/responsive/Figure-6_large-lg.webp 1024w, https://teknomid.click/media/posts/196/responsive/Figure-6_large-xl.webp 1360w, https://teknomid.click/media/posts/196/responsive/Figure-6_large-xxl.webp 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="lazy" height="182" width="346" alt="Logrotate "><figcaption>Teknomid</figcaption></figure><div class="post__inner post__entry"><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);"><div class="post__toc"><h3>Table of Contents</h3><ul><li><a href="#mcetoc_1for6u3oo3mf">Persyaratan</a><ul><li><a href="#mcetoc_1for6u3oo3mg">Langkah 1 - Mengonfirmasi Versi Logrotate Anda</a></li><li><a href="#mcetoc_1for6u3oo3mh">Langkah 2 - Explore Konfigurasi Logrotate</a></li><li><a href="#mcetoc_1for6u3oo3mi">Langkah 3 - Setting Contoh Konfigurasi</a><ul><li><a href="#mcetoc_1for6u3oo3mj">1.  Buat file konfigurasi Logrotate baru dan letakkan di /etc/logrotate.d/.</a></li><li><a href="#mcetoc_1for6u3oo3mk">2.  Buat file konfigurasi baru dan jalankan di luar pengaturan Logrotate default Ubuntu.</a></li></ul></li><li><a href="#mcetoc_1for6u3oo3ml">Langkah 4 - Membuat Konfigurasi Logrotate Independen</a></li></ul></li><li><a href="#mcetoc_1for6u3oo3mm">Kesimpulan</a></li></ul></div></td></tr></tbody></table><div class="align-left">Logrotate adalah utilitas sistem yang mengelola rotasi otomatis dan kompresi file log. Jika file log tidak rotate, dikompresi, dan dipangkas secara berkala, mereka akhirnya dapat menghabiskan semua ruang disk yang tersedia pada sistem.<br><br></div><div class="align-left">Logrotate sudah terinstall secara default di Ubuntu 20.04, dan diatur untuk menangani kebutuhan rotasi log dari semua paket yang diinstal, termasuk rsyslog, prosesor log sistem default.<br><br></div><div class="align-left">Pada artikel ini, kita akan menjelajahi konfigurasi Logrotate default, lalu mengonfigurasi rotasi log untuk aplikasi yang ada di system kita.</div><h3 id="mcetoc_1for6u3oo3mf" class="align-left"><span style="color: #2dc26b;">Persyaratan</span></h3><div class="align-left">Tutorial ini mengasumsikan Anda memiliki server Ubuntu 20.04, dengan pengguna non-root sudo-enabled, seperti yang dijelaskan dalam Pengaturan Server Awal dengan Ubuntu 20.04 .</div><div class="align-left"> </div><div class="align-left">Logrotate juga tersedia di banyak distribusi Linux lainnya, tetapi konfigurasi defaultnya mungkin sangat berbeda. Bagian lain dari tutorial ini akan tetap berlaku selama versi Logrotate Anda mirip dengan Ubuntu 20.04. Ikuti Langkah 1 untuk menentukan versi Logrotate Anda.</div><div class="align-left"> </div><div class="align-left">Masuk ke server Anda sebagai user sudoer untuk memulai.</div><h4 id="mcetoc_1for6u3oo3mg" class="align-left"><span style="color: #2dc26b;">Langkah 1 - Mengonfirmasi Versi Logrotate Anda</span><br><br></h4><div class="align-left">Logrotate diinstal secara default di Ubuntu. Namun, jika Anda perlu menginstalnya, jalankan perintah berikut untuk memperbarui daftar paket dan mengambil paket:</div><div class="align-left"><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);"><div><span style="color: var(--color);">sudo apt update</span></div><div><span style="color: var(--color);">sudo apt install logrotate</span></div></td></tr></tbody></table></div><div class="align-left">Jika Anda menggunakan server non-Ubuntu, pastikan terlebih dahulu Logrotate diinstal dan cek versinya:</div><div class="align-left"><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);">logrotate --version<table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);"><div><span style="text-decoration: underline;">Output</span></div><div>logrotate 3.14.0</div><div>Default mail command:       /usr/bin/mail</div><div>Default compress command:   /bin/gzip</div><div>Default uncompress command: /bin/gunzip</div><div>Default compress extension: .gz</div><div>Default state file path:    /var/lib/logrotate/status</div><div>ACL support:                yes</div><div>SELinux support:            yes</div></td></tr></tbody></table></td></tr></tbody></table></div><div class="align-left"> </div><div class="align-left"><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-right: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);"><strong><em><a href="https://teknomid.click/cara-menghapus-cache-memori-ram-buffer-dan-swap-space-di-linux/">Baca Juga: Cara Menghapus Cache Memori RAM, Buffer, dan Swap Space di Linux</a></em></strong></td></tr></tbody></table></div><div class="align-left"><br>Jika Logrotate diinstal tetapi versinya sangat berbeda, Anda mungkin mengalami masalah dengan beberapa opsi konfigurasi yang dieksplorasi dalam tutorial ini. Lihat dokumentasi untuk versi spesifik Logrotate Anda dengan membaca manualnya (man):</div><div class="align-left"><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);">man logrotate</td></tr></tbody></table></div><div> </div><div class="align-left">Anda juga dapat melihat versi online dari dokumentasi Logrotate. Selanjutnya kita akan melihat struktur konfigurasi default Logrotate di Ubuntu.</div><h4 id="mcetoc_1for6u3oo3mh" class="align-left"><span style="color: #2dc26b;">Langkah 2 - Explore Konfigurasi Logrotate</span><br><br></h4><div class="align-left">Informasi konfigurasi Logrotate umumnya dapat ditemukan di dua tempat di Ubuntu:</div><div class="align-left"><span style="color: var(--color);">/etc/logrotate.conf</span> :  file ini berisi beberapa pengaturan default dan mengatur rotasi untuk beberapa log yang tidak dimiliki oleh paket sistem mana pun. Itu juga menggunakan includepernyataan untuk menarik konfigurasi dari file apa pun di direktori <span style="color: var(--color);">/etc/logrotate.d</span> .</div><div class="align-left"> </div><div class="align-left"><span style="color: var(--color);">/etc/logrotate.d/ </span>: di sinilah paket apa pun yang Anda instal yang memerlukan bantuan dengan rotasi log akan menempatkan konfigurasi Logrotate-nya. Pada instalasi standar, Anda seharusnya sudah memiliki file di sini untuk alat sistem inti seperti apt, dpkg, rsyslogdan seterusnya.</div><div class="align-left"> </div><div class="align-left">Secara default, <span style="color: var(--color);">logrotate.conf</span> akan mengonfigurasi rotasi log mingguan, dengan file log yang dimiliki oleh pengguna root dan grup syslog , dengan empat file log disimpan pada satu waktu ( rotate 4), dan file log kosong baru dibuat setelah yang sekarang diputar ( create).</div><div class="align-left"> </div><div class="align-left">Mari kita lihat file konfigurasi Logrotate paket di<span style="color: var(--color);"> /etc/logrotate.d</span>. cat file untuk apt utilitas package:</div><div class="align-left"><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);">cat /etc/logrotate.d/apt<table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);"><div><span style="text-decoration: underline;">Output</span></div><div>/var/log/apt/term.log {</div><div>  rotate 12</div><div>  monthly</div><div>  compress</div><div>  missingok</div><div>  notifempty</div><div>}</div><div>/var/log/apt/history.log {</div><div>  rotate 12</div><div>  monthly</div><div>  compress</div><div>  missingok</div><div>  notifempty</div><div>}</div></td></tr></tbody></table></td></tr></tbody></table></div><div> </div><div class="align-left">File ini berisi blok konfigurasi untuk dua file log yang berbeda dalam <span style="color: var(--color);">/var/log/apt/direktori</span> : <span style="color: var(--color);">term.log</span> dan <span style="color: var(--color);">history.log</span>. Mereka berdua memiliki pilihan yang sama. Opsi apa pun yang tidak disetel dalam blok konfigurasi ini akan mewarisi nilai default atau yang disetel dalam <span style="color: var(--color);">/etc/logrotate.conf</span>.<br><br>Pengaturan apa pun dalam file logrotate akan menggantikan nilai default logrotate, yang dikonfigurasi dalam <span style="color: var(--color);">/etc/logrotate.conf</span>. Opsi yang disetel untuk aptlog adalah:</div><div class="align-left"><span style="color: var(--color);">rotate 12:</span> menyimpan dua belas file log lama. Ini menimpa rotate 4default.</div><div class="align-left">monthly: putar sebulan sekali. Ini menimpa weekly default.<br><br></div><div class="align-left"><span style="color: var(--color);">compress:</span> kompres file yang diputar. ini menggunakan gzipsecara default dan menghasilkan file yang diakhiri dengan .gz. Perintah kompresi dapat diubah menggunakan compress cmd opsi.</div><div class="align-left"> </div><div class="align-left"><span style="color: var(--color);">missingok:</span> jangan menulis pesan kesalahan jika file log hilang.</div><div class="align-left">notifempty: jangan putar file log jika kosong.</div><div class="align-left"> </div><div class="align-left">File konfigurasi ini juga mewarisi createperilaku default , yang menginstruksikan Logrotate untuk membuat log baru setelah rotasi. Ini dapat diganti dengan nocreate, meskipun itu akan secara efektif menonaktifkan sebagian besar fungsi lainnya.</div><div class="align-left"> </div><div class="align-left">Ada lebih banyak opsi konfigurasi yang tersedia. Anda dapat membaca tentang semuanya dengan mengetik man logrotatedi baris perintah untuk membuka halaman manual Logrotate.</div><div class="align-left"> </div><div class="align-left">Selanjutnya, kita akan menyiapkan file konfigurasi untuk menangani log untuk layanan fiksi yang disebut your-app.</div><h4 id="mcetoc_1for6u3oo3mi" class="align-left"><span style="color: #2dc26b;">Langkah 3 - Setting Contoh Konfigurasi</span><br><br></h4><div class="align-left">Untuk mengelola file log menggunakan logrotate untuk aplikasi  pre-packaged dan pre-configured di system service, kami memiliki dua opsi:</div><h5 id="mcetoc_1for6u3oo3mj" class="align-left"><span style="color: #2dc26b;">1.  Buat file konfigurasi Logrotate baru dan letakkan di /etc/logrotate.d/.</span></h5><div class="align-left">Ini akan dijalankan setiap hari sebagai pengguna root bersama dengan semua pekerjaan Logrotate standar lainnya.</div><h5 id="mcetoc_1for6u3oo3mk" class="align-left"><span style="color: #2dc26b;">2.  Buat file konfigurasi baru dan jalankan di luar pengaturan Logrotate default Ubuntu.</span></h5><p class="align-left"> </p><div class="align-left">Ini hanya benar-benar diperlukan jika Anda perlu menjalankan Logrotate sebagai pengguna non- root , atau jika Anda ingin merotasi log lebih sering daripada setiap hari ( hourly konfigurasi di<span style="color: var(--color);"> /etc/logrotate.d/ </span>tidak akan efektif, karena pengaturan Logrotate sistem hanya berjalan sekali sehari).</div><div class="align-left"> </div><div class="align-left">Mari kita telusuri dua opsi ini dengan beberapa contoh penyiapan.</div><div class="align-left">Menambahkan Konfigurasi ke <span style="color: var(--color);">/etc/logrotate.d/</span></div><div class="align-left">Kami ingin mengonfigurasi rotasi log untuk server web app yang menempatkan <span style="color: var(--color);">access.log</span> dan <span style="color: var(--color);">error.log</span> ke <span style="color: var(--color);">/var/log/your-app/</span>. Ini berjalan sebagai <span style="color: var(--color);">www-data</span> pengguna dan grup.</div><div class="align-left"> </div><div class="align-left">Untuk menambahkan konfigurasi your-appfile log ke <span style="color: var(--color);">/etc/logrotate.d/</span>, pertama buka file baru di<span style="color: var(--color);"> /etc/logrotate.d</span> direktori menggunakan nanoatau editor pilihan Anda:</div><div class="align-left"><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);"><p><span style="color: var(--color);">sudo nano /etc/logrotate.d/your-app</span></p><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);"><div>/etc/logrotate.d/ your-app</div><div>/var/log/your-app/*.log {</div><div>    daily</div><div>    missingok</div><div>    rotate 14</div><div>    compress</div><div>    notifempty</div><div>    create 0640 www-data www-data</div><div>    sharedscripts</div><div>    postrotate</div><div>        systemctl reload your-app</div><div>    endscript</div><div>}</div></td></tr></tbody></table></td></tr></tbody></table></div><div> </div><div class="align-left">Beberapa arahan konfigurasi baru dalam file ini adalah:</div><div class="align-left"><span style="color: var(--color);">create 0640 www-data www-data</span> :  ini membuat file log kosong baru setelah rotasi, dengan izin tertentu ( <span style="color: var(--color);">0640</span>), user (<span style="color: var(--color);">www-data</span>), dan grup (<span style="color: var(--color);">www-data</span>).</div><div class="align-left"> </div><div class="align-left"><span style="color: var(--color);">shared scripts</span> : tanda ini berarti bahwa script apa pun yang ditambahkan ke konfigurasi hanya dijalankan sekali per proses, bukan untuk setiap file yang diputar. Karena jalur menyertakan wildcard , konfigurasi ini akan cocok dengan sejumlah file log di direktori.</div><div class="align-left"> </div><div class="align-left">Tanpa opsi, skrip yang ditentukan dalam akan berjalan setiap kali logrotate memproses file log tanpa opsi ini .<br><span style="color: var(--color);">/var/log/your-app/*.log*your-app</span> shared scripts post rotate</div><div class="align-left">postrotateto endscript : blok ini berisi skrip untuk dijalankan setelah file log diputar.</div><div class="align-left"> </div><div class="align-left">Dalam hal ini kami memuat ulang aplikasi contoh kami. Ini terkadang diperlukan agar aplikasi Anda beralih ke file log yang baru dibuat. Perhatikan bahwa postrotateberjalan sebelum log dikompresi. Kompresi bisa memakan waktu lama, dan perangkat lunak</div><div class="align-left"> </div><div class="align-left">Anda harus segera beralih ke file log baru. Untuk tugas yang perlu dijalankan setelah log dikompresi, gunakan lastaction blok sebagai gantinya.</div><div class="align-left">Untuk menyimpan dan keluar nano, tekan Ctrl+X, dan saat diminta, Ylalu Enter. Anda dapat menguji file konfigurasi dengan melakukan dry run:</div><div class="align-left"><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);">sudo logrotate /etc/logrotate.conf --debug</td></tr></tbody></table></div><div> </div><div class="align-left">Perintah ini memanggil logrotate, mengarahkannya ke file konfigurasi standar, dan mengaktifkan mode debug.</div><div class="align-left">Informasi akan dicetak tentang file log mana yang ditangani Logrotate dan apa yang akan dilakukan terhadapnya. Jika semuanya terlihat baik, Anda selesai.</div><div class="align-left"> </div><div class="align-left">Pekerjaan Logrotate standar akan berjalan sekali sehari dan menyertakan konfigurasi baru Anda.</div><div class="align-left">Selanjutnya, kita akan mencoba setup yang tidak menggunakan konfigurasi default Ubuntu sama sekali.</div><h4 id="mcetoc_1for6u3oo3ml" class="align-left"><span style="color: #2dc26b;">Langkah 4 - Membuat Konfigurasi Logrotate Independen</span><br><br></h4><div class="align-left">Dalam contoh ini kami memiliki aplikasi yang berjalan sebagai pengguna kami sammy, menghasilkan log yang disimpan di /home/sammy/logs/. Kami ingin memutar log ini setiap jam, jadi kami perlu mengaturnya di luar /etc/logrotate.dstruktur yang disediakan oleh Ubuntu.</div><div class="align-left">Pertama, kita akan membuat file konfigurasi di direktori home kita. Buka di editor teks:</div><div class="align-left"><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);">nano /home/sammy/logrotate.conf<table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);"><div>/home/sammy/logrotate.conf</div><div>/home/sammy/logs/*.log {</div><div>    hourly</div><div>    missingok</div><div>    rotate 24</div><div>    compress</div><div>    create</div><div>}</div></td></tr></tbody></table></td></tr></tbody></table></div><div> </div><div class="align-left">Simpan dan tutup file. Kami telah menemukan semua opsi ini di langkah sebelumnya, tetapi mari kita rangkum: konfigurasi ini akan memutar file setiap jam, mengompresi dan menyimpan dua puluh empat log lama dan membuat file log baru untuk menggantikan yang diputar.</div><div class="align-left"> </div><div class="align-left">Anda harus menyesuaikan konfigurasi agar sesuai dengan aplikasi Anda, tetapi ini adalah awal yang baik.</div><div class="align-left">Untuk menguji apakah konfigurasi berfungsi, mari buat file log. Pertama cdke direktori home pengguna Anda menggunakan perintah <span style="color: var(--color);">cd ~</span>.<br><br>Kemudian buat direktori untuk log menggunakan mkdirperintah. Terakhir buat file kosong di logsdirektori menggunakan touchperintah. Jalankan perintah berikut untuk menyelesaikan langkah-langkah ini:</div><div class="align-left"><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);"><div><span style="color: var(--color);">cd ~</span></div><div><span style="color: var(--color);">mkdir logs</span></div><div><span style="color: var(--color);">touch logs/access.log</span></div></td></tr></tbody></table></div><div> </div><div class="align-left">Sekarang kita memiliki file log kosong di tempat yang tepat, mari jalankan perintah  logrotate.</div><div class="align-left">Karena log kepemilikan user sammy kita tidak perlu menggunakan sudo. Namun, kita tidak perlu menentukan flag berkas.</div><div class="align-left"> </div><div class="align-left">File ini mencatat apa yang logrotate ditemukan dan tindakan apa pun yang dilakukan saat terakhir dijalankan, sehingga tahu apa yang harus dilakukan saat berikutnya dijalankan. Pelacakan status ini ditangani untuk kami saat menggunakan<span style="color: var(--color);"> /etc/logrotate.conf</span> konfigurasi default .</div><div class="align-left"> </div><div class="align-left">File status disimpan di <span style="color: var(--color);">/var/lib/logrotate/status.</span> Karena kita tidak menggunakan konfigurasi default, kita perlu mengkonfigurasi lokasi file status secara manual.</div><div class="align-left">Kami akan meminta Logrotate meletakkan file status tepat di direktori home kami untuk contoh ini. Itu bisa pergi ke mana saja yang dapat diakses dan nyaman.</div><div class="align-left"> </div><div class="align-left">Jalankan perintah berikut ini untuk menggunakan<span style="color: var(--color);"> /home/sammy/logrotate.conf</span> yang Anda buat dan untuk merekam status logrotate:</div><div class="align-left"><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);">logrotate /home/sammy/logrotate.conf --state /home/sammy/logrotate-state --verbose<table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);"><div>Output</div><div>reading config file /home/sammy/logrotate.conf</div><div>Handling 1 logs</div><div>rotating pattern: /home/sammy/logs/*.log  hourly (24 rotations)</div><div>empty log files are rotated, old logs are removed</div><div>considering log /home/sammy/logs/access.log</div><div>  log does not need rotating</div></td></tr></tbody></table></td></tr></tbody></table></div><div> </div><div class="align-left">flag <span style="color: var(--color);">--verbose</span> akan menampilkan informasi detail tentang apa logrotate lakukan. Dalam hal ini tidak merotate apa pun. Ini adalah pertama kalinya Logrotate menemukan file log ini dan berumur nol jam jadi tidak boleh dirotasi.</div><div class="align-left"> </div><div class="align-left">Jika kami memeriksa file status menggunakan cat utilitas, kami akan mencatat bahwa Logrotate mencatat beberapa informasi tentang proses:</div><div class="align-left"><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);">cat /home/sammy/logrotate-state<table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);"><div>Output</div><div>logrotate state -- version 2</div><div>"/home/sammy/logs/access.log" 2021-12-3-19:0:0</div></td></tr></tbody></table></td></tr></tbody></table></div><div> </div><div class="align-left">Logrotate mencatat log yang dilihatnya dan kapan terakhir mempertimbangkannya untuk rotasi. Jika kita menjalankan perintah yang sama ini satu jam kemudian, log akan diputar seperti yang diharapkan.</div><div class="align-left"> </div><div class="align-left">Jika Anda ingin memaksa Logrotate untuk rotate file log padahal seharusnya tidak, gunakan <span style="color: var(--color);">--force</span> tanda:</div><div class="align-left"><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);">logrotate /home/sammy/logrotate.conf --state /home/sammy/logrotate-state --verbose --force</td></tr></tbody></table></div><div> </div><div class="align-left">Ini berguna saat menguji post rotate dan script lainnya.</div><div class="align-left">Terakhir, kita perlu menyiapkan tugas cron untuk menjalankan Logrotate setiap jam. Buka crontab pengguna Anda:</div><div class="align-left"><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);">crontab -e</td></tr></tbody></table></div><div> </div><div class="align-left">Ini akan membuka file teks. Jika ini adalah pertama kalinya Anda menggunakan cron, Anda mungkin diminta untuk memilih editor teks default. Jika Anda tidak memiliki preferensi, kami sarankan nanountuk pengguna baru.</div><div class="align-left"> </div><div class="align-left">Mungkin sudah ada beberapa komentar di file yang menjelaskan sintaks cron. Pindahkan kursor ke bawah ke baris kosong baru di akhir file dan tambahkan yang berikut ini:</div><div class="align-left"><table class="align-left" style="width: 100%; border-left: 1px solid var(--color); border-radius: 10px;" border="0.1"><tbody><tr><td style="padding: 7px; text-align: left; color: var(--color);">14 * * * * /usr/sbin/logrotate /home/sammy/logrotate.conf --state /home/sammy/logrotate-state</td></tr></tbody></table></div><div> </div><div class="align-left">Tugas ini akan berjalan pada menit ke-14 setiap jam, setiap hari. Ini menjalankan logrotate perintah yang hampir sama dengan yang kami jalankan sebelumnya, meskipun kami memperluas logrotateke jalur penuhnya<span style="color: var(--color);"> /usr/sbin/logrotate</span> agar aman. Ini adalah praktik yang baik untuk menggunakan jalur lengkap saat menulis tugas cron.</div><div class="align-left"> </div><div class="align-left">Untuk mempelajari lebih lanjut tentang cron, Anda dapat meninjau tutorial kami yang lain . Simpan file dan keluar. Ini akan menginstal crontab dan tugas kita akan berjalan pada jadwal yang ditentukan.</div><div class="align-left"> </div><div class="align-left">Jika kami mengunjungi kembali direktori log kami dalam waktu sekitar satu jam, kami akan menemukan file log yang diputar dan di compress access.log.1.gz(atau .2.gzjika Anda menjalankan Logrotate dengan --force flag).</div><h3 id="mcetoc_1for6u3oo3mm" class="align-left"><span style="text-decoration: underline; color: #2dc26b;">Kesimpulan</span></h3><div class="align-left">Dalam tutorial ini kami memverifikasi versi Logrotate kami, menjelajahi konfigurasi default Ubuntu Logrotate, dan menyiapkan dua jenis konfigurasi custom yang berbeda. Untuk mempelajari lebih lanjut tentang baris perintah dan opsi konfigurasi yang tersedia untuk Logrotate, Anda dapat membaca manualnya dengan menjalankan man logrotate di terminal Anda atau dengan mengunjungi dokumentasi <a href="#INTERNAL_LINK#/post/null" title="https://linux.die.net/man/8/logrotate">online </a>.</div><p class="align-left"> </p></div><footer class="post__inner post__footer"><p class="post__last-updated">This article was updated on January 21, 2022</p><div class="post__share"><h3>Share post:</h3></div><div class="post__tag"><ul><li><strong>Tagged in:</strong></li><li><a href="https://teknomid.click/tags/linux/">LINUX</a></li><li><a href="https://teknomid.click/tags/tutorial/">TUTORIAL</a></li></ul></div><div class="post__bio"><div><h3><a href="https://teknomid.click/authors/teknomid/" class="invert" rel="author">Teknomid</a></h3></div></div></footer></article></div></div><div id="sidebar"><div class="inner"><div id="search" class="alt"><form action="https://teknomid.click/search.html" class="search__form"><input class="search__input" type="search" name="q" placeholder="search..." aria-label="search..." autofocus> <button type="submit" class="search__button"><span>Submit</span></button></form></div><nav id="menu"><header class="major"><h2>Menu</h2></header><ul><li><a href="https://teknomid.click/" title="https://teknomid.online" target="_self">Home</a></li><li><a href="https://teknomid.click/tags/tutorial/" title="https://teknomid.online/tags/tutorial/" target="_self">Tutorial</a></li><li class="has-submenu"><a href="https://teknomid.click/tags/cloud/" title="https://teknomid.online/tags/cloud/" target="_self" aria-haspopup="true" class="opener">Cloud</a><ul class="submenu level-2" aria-hidden="true"><li><a href="https://teknomid.click/tags/google/" title="https://teknomid.online/tags/google/" target="_self">Google</a></li><li><a href="https://teknomid.click/tags/aws/" title="https://teknomid.online/tags/aws/" target="_self">Aws</a></li></ul></li><li class="has-submenu"><a href="https://teknomid.click/tags/operating-system/" title="https://teknomid.online/tags/operating-system/" target="_self" aria-haspopup="true" class="opener">Systems</a><ul class="submenu level-2" aria-hidden="true"><li><a href="https://teknomid.click/tags/linux/" title="https://teknomid.online/tags/linux/" target="_self" rel="https://teknomid.online/tags/linux/">Linux</a></li><li><a href="https://teknomid.click/tags/macos/" title="https://teknomid.online/tags/macOS/" target="_self" rel="https://teknomid.online/tags/macOS/">MacOS</a></li><li class="https://teknomid.online/tags/windows/"><a href="https://teknomid.click/tags/windows/" title="Windows" target="_self" rel="https://teknomid.online/tags/windows/">Windows</a></li></ul></li><li class="has-submenu"><a href="https://teknomid.click/tags/applikasi/" title="https://teknomid.online/tags/applikasi/" target="_self" aria-haspopup="true" class="opener">Applikasi</a><ul class="submenu level-2" aria-hidden="true"><li><a href="https://teknomid.click/tags/mobile-applikasi/" title="https://teknomid.online/tags/mobile-applikasi/" target="_self" rel="https://teknomid.online/tags/appmobile/">App-Mobile</a></li><li><a href="https://teknomid.click/tags/windows-applikasi/" title="https://teknomid.online/tags/windows-applikasi/" target="_self" rel="https://teknomid.online/tags/appwindows/">App-Windows</a></li><li><a href="https://teknomid.click/tags/linux-applikasi/" title="https://teknomid.online/tags/linux-applikasi/" target="_self" rel="https://teknomid.online/tags/applinux/">App-Linux</a></li><li><a href="https://teknomid.click/tags/macos-applikasi/" title="https://teknomid.online/tags/macos-applikasi/" target="_self" rel="https://teknomid.online/tags/appmacos/">App-MacOS</a></li></ul></li><li class="has-submenu"><a href="https://teknomid.click/tags/tech-gadgets/" title="https://teknomid.online/tags/tech-gadgets/" target="_self" aria-haspopup="true" class="opener">Tech &amp; Gadgets</a><ul class="submenu level-2" aria-hidden="true"><li><a href="https://teknomid.click/tags/handphone/" title="https://teknomid.online/tags/handphone/" target="_self">Handphone</a></li><li><a href="https://teknomid.click/tags/" title="https://teknomid.online/tags/elektronik/" target="_self" rel="Elektronika">Elektronika</a></li><li><a href="https://teknomid.click/tags/" title="https://teknomid.online/tags/crypto/" target="_self" rel="Crypto">Crypto</a></li><li><a href="https://teknomid.click/tags/laptop/" title="https://teknomid.online/tags/laptop/" target="_self" rel="Laptop">Laptop</a></li></ul></li></ul></nav><section><header class="major"><h2>Editor Pick's</h2></header><div class="mini-posts"><article><a href="https://teknomid.click/tutorial-blokir-iklan-pada-android-tanpa-root/" class="image fit"><img src="https://teknomid.click/media/posts/227/cara_memblokir_iklan_di_youtube-2xl.jpg" srcset="https://teknomid.click/media/posts/227/responsive/cara_memblokir_iklan_di_youtube-2xl-xs.jpg 300w, https://teknomid.click/media/posts/227/responsive/cara_memblokir_iklan_di_youtube-2xl-sm.jpg 480w, https://teknomid.click/media/posts/227/responsive/cara_memblokir_iklan_di_youtube-2xl-md.jpg 768w" sizes="(max-width: 768px) 100vw, 33vw" loading="lazy" height="315" width="560" alt="Tutorial Blokir Iklan Pada Android Tanpa Root"></a><h3><a href="https://teknomid.click/tutorial-blokir-iklan-pada-android-tanpa-root/">Tutorial Blokir Iklan Pada Android Tanpa Root</a></h3><p>Tutorial Blokir Iklan Pada Android – Iklan adalah salah satu alasan kita dapat mengakses situs, aplikasi, dan layanan secara gratis.</p></article><article><a href="https://teknomid.click/tutorial-mengatasi-icloud-penuh-di-iphone/" class="image fit"><img src="https://teknomid.click/media/posts/216/Cara-Mengatasi-iCloud-Penuh-di-Iphone.jpg" srcset="https://teknomid.click/media/posts/216/responsive/Cara-Mengatasi-iCloud-Penuh-di-Iphone-xs.jpg 300w, https://teknomid.click/media/posts/216/responsive/Cara-Mengatasi-iCloud-Penuh-di-Iphone-sm.jpg 480w, https://teknomid.click/media/posts/216/responsive/Cara-Mengatasi-iCloud-Penuh-di-Iphone-md.jpg 768w" sizes="(max-width: 768px) 100vw, 33vw" loading="lazy" height="408" width="648" alt="Tutorial Mengatasi iCloud Penuh di iPhone"></a><h3><a href="https://teknomid.click/tutorial-mengatasi-icloud-penuh-di-iphone/">Tutorial Mengatasi iCloud Penuh di iPhone</a></h3><p>Tutorial Mengatasi iCloud Penuh di iPhone - Cara mengatasi iCloud penuh di iPhone penting dipahami oleh para pengguna. Dengan kondisi&hellip;</p></article></div><ul class="actions"><li><a href="https://teknomid.click/tags/tutorial/" class="button">More</a></li></ul></section><section><header class="major"><h2>Get in touch</h2></header><p>Teknomid Click adalah Organisasi dari teknomid.com - Portal Teknologi</p><ul class="contact"><li class="icon solid fa-envelope">teknomid.official@gmail.com</li><li class="icon solid fa-home">Jakarta - Indonesia</li></ul></section><footer id="footer"><p class="copyright">© Teknomid - Portal Teknologi<br>All rights reserved<br>Design by: <a href="https://html5up.net" target="_blank" rel="noopener">HTML5 UP</a></p></footer></div></div></div><script src="https://teknomid.click/assets/js/jquery.min.js?v=7c14a783dfeb3d238ccd3edd840d82ee"></script><script src="https://teknomid.click/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://teknomid.click/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://teknomid.click/assets/js/util.min.js?v=cbdaf7c20ac2883c77ae23acfbabd47e"></script><script src="https://teknomid.click/assets/js/main.min.js?v=08add7f6d435054ad38ec38d7cf8be40"></script><script>var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};</script></body></html>